# Development Environment Configuration
# Copy this file to .env for local development

# =============================================================================
# LITELLM PROXY CONFIGURATION
# =============================================================================

# LiteLLM Master Key (for admin operations like creating virtual keys)
# Used by: scripts/setup_litellm_keys.sh, LiteLLM proxy admin API
LITELLM_MASTER_KEY=

# LiteLLM PostgreSQL Password
# Used by: postgres-litellm service, LiteLLM database connection
LITELLM_POSTGRES_PASSWORD=

# LiteLLM Virtual Keys (generated by setup script - LEAVE EMPTY initially)
# After running `make litellm_setup`, copy generated keys here

# LITELLM_API_KEY: Virtual key for development/production usage
# This is what your code uses to call LiteLLM in dev/prod
LITELLM_API_KEY=

# LITELLM_TEST_KEY: Virtual key for integration tests (separate usage tracking)
# Used by: integration tests to track test usage separately from dev
LITELLM_TEST_KEY=

# LITELLM_EVAL_KEY: Virtual key for LLM evaluations (separate tracking)
# Used by: LLM behavioral evaluations with flex-evals
LITELLM_EVAL_KEY=

# LITELLM_BASE_URL: LiteLLM proxy endpoint (for local testing outside Docker)
# Docker: Set in docker-compose.yml (http://litellm:4000)
# Local: Uncomment line below for local testing
# LITELLM_BASE_URL=http://localhost:4000

# =============================================================================
# SHARED CONFIGURATION
# =============================================================================

# OpenAI API Configuration
# OPENAI_API_KEY is ONLY used by LiteLLM proxy to call OpenAI
# Flow: reasoning-api → LITELLM_API_KEY → litellm proxy → OPENAI_API_KEY → OpenAI
# Required: Your REAL OpenAI API key (used ONLY by LiteLLM proxy)
OPENAI_API_KEY=your-openai-api-key-here

# Authentication - Development tokens (easy to remember)
# API_TOKENS: Comma-separated list of valid bearer tokens for API authentication
# Used by: api/auth.py for validating Authorization: Bearer <token> headers
# Commented out for development (auth disabled)
# API_TOKENS=web-client-dev-token,admin-dev-token,mobile-dev-token

# REASONING_API_TOKEN: Specific token used by web client to authenticate with API
# Used by: web-client/main.py in Authorization headers
# Commented out for development (auth disabled)
# REASONING_API_TOKEN=web-client-dev-token

# REQUIRE_AUTH: Enable/disable bearer token authentication for API endpoints
# Used by: api/auth.py and api/config.py
# Set to false for easier development, true for production
# Default: true
REQUIRE_AUTH=false

# Development Settings
# DEBUG: Enable debug mode and verbose logging
# Used by: api/config.py for development features
# Default: false
DEBUG=true

# =============================================================================
# REASONING API SERVICE
# =============================================================================

# Server Configuration
# API_HOST: Host address for the API server to bind to
# Used by: api/config.py for uvicorn server startup
# Common values: 0.0.0.0 (all interfaces), 127.0.0.1 (localhost only)
# Default: "0.0.0.0"
API_HOST=0.0.0.0

# API_PORT: Port number for the API server
# Used by: api/config.py for uvicorn server startup
# Default: 8000
API_PORT=8000

# HTTP Client Timeouts (seconds)
# HTTP_CONNECT_TIMEOUT: Connection timeout for HTTP requests to OpenAI API
# Used by: api/dependencies.py in httpx client configuration
# Default: 5.0
HTTP_CONNECT_TIMEOUT=5.0

# HTTP_READ_TIMEOUT: Read timeout for HTTP responses from OpenAI API
# Used by: api/dependencies.py in httpx client configuration
# Increase for slower streaming responses
# Default: 30.0
HTTP_READ_TIMEOUT=60.0

# HTTP_WRITE_TIMEOUT: Write timeout for HTTP requests to OpenAI API
# Used by: api/dependencies.py in httpx client configuration
# Default: 10.0
HTTP_WRITE_TIMEOUT=10.0

# HTTP Connection Pooling
# HTTP_MAX_CONNECTIONS: Maximum total HTTP connections in the pool
# Used by: api/dependencies.py in httpx.Limits configuration
# Default: 20
HTTP_MAX_CONNECTIONS=20

# HTTP_MAX_KEEPALIVE_CONNECTIONS: Maximum keep-alive connections in pool
# Used by: api/dependencies.py in httpx.Limits configuration
# Default: 5
HTTP_MAX_KEEPALIVE_CONNECTIONS=5

# HTTP_KEEPALIVE_EXPIRY: Keep-alive connection expiry time in seconds
# Used by: api/dependencies.py in httpx.Limits configuration
# Default: 30.0
HTTP_KEEPALIVE_EXPIRY=30.0

# =============================================================================
# WEB CLIENT SERVICE
# =============================================================================

# Service Configuration
# WEB_CLIENT_PORT: Port for the web client FastHTML application
# Used by: web-client/main.py for uvicorn server startup
# Default: 8080
WEB_CLIENT_PORT=8080

# REASONING_API_URL: URL where web client connects to the reasoning API
# Used by: web-client/main.py for making HTTP requests to the API
# Development: http://localhost:8000 (local API server)
# Docker: http://reasoning-api:8000 (internal networking)
# Default: "http://localhost:8000"
REASONING_API_URL=http://localhost:8000  # Where web client connects to API

# =============================================================================
# MCP SERVICE (Future)
# =============================================================================

# Service Configuration
# MCP_SERVER_PORT: Port for MCP (Model Context Protocol) server
# Used by: mcp_servers/fake_server.py and Docker configurations
# Default: 8001
MCP_SERVER_PORT=8001

# =============================================================================
# PHOENIX ARIZE CONFIGURATION
# =============================================================================

# PostgreSQL Configuration for Phoenix (required for Docker)
# PHOENIX_POSTGRES_DB: Database name for Phoenix (default: phoenix)
# Used by: docker-compose.yml for Phoenix database
PHOENIX_POSTGRES_DB=phoenix

# PHOENIX_POSTGRES_USER: Username for Phoenix database (default: phoenix_user)
# Used by: docker-compose.yml for Phoenix database
PHOENIX_POSTGRES_USER=phoenix_user

# PHOENIX_POSTGRES_PASSWORD: Password for PostgreSQL database used by Phoenix
# Used by: docker-compose.yml for Phoenix database authentication
# Generate secure password for production: python -c "import secrets; print(secrets.token_urlsafe(16))"
PHOENIX_POSTGRES_PASSWORD=phoenix_dev_password123

# NOTE: Other Phoenix configuration is handled entirely in docker-compose.yml
# Phoenix only runs in Docker environments and all env vars are set there

# =============================================================================
# LITELLM POSTGRES CONFIGURATION
# =============================================================================

# PostgreSQL Configuration for LiteLLM (required for Docker)
# LITELLM_POSTGRES_DB: Database name for LiteLLM (default: litellm)
# Used by: docker-compose.yml for LiteLLM database
LITELLM_POSTGRES_DB=litellm

# LITELLM_POSTGRES_USER: Username for LiteLLM database (default: litellm_user)
# Used by: docker-compose.yml for LiteLLM database
LITELLM_POSTGRES_USER=litellm_user

# LITELLM_POSTGRES_PASSWORD: Password for LiteLLM database
# Used by: docker-compose.yml for LiteLLM database authentication
# Generate secure password for production: python -c "import secrets; print(secrets.token_urlsafe(16))"
# NOTE: This was already configured above in the LiteLLM section - using same variable
# LITELLM_POSTGRES_PASSWORD is set in the LITELLM PROXY CONFIGURATION section above

# =============================================================================
# CONVERSATION STORAGE CONFIGURATION
# =============================================================================

# PostgreSQL Configuration for Reasoning API (Conversation Storage)
# REASONING_POSTGRES_DB: Database name for conversation storage (default: reasoning)
# Used by: docker-compose.yml for conversation storage database
REASONING_POSTGRES_DB=reasoning

# REASONING_POSTGRES_USER: Username for conversation storage database (default: reasoning_user)
# Used by: docker-compose.yml for conversation storage database
REASONING_POSTGRES_USER=reasoning_user

# REASONING_POSTGRES_PASSWORD: Password for PostgreSQL database used for conversation storage
# Used by: docker-compose.yml for conversation storage database authentication
# Also used by: Alembic migrations (via REASONING_DATABASE_URL below)
# Generate secure password for production: python -c "import secrets; print(secrets.token_urlsafe(16))"
REASONING_POSTGRES_PASSWORD=reasoning_dev_password123

# REASONING_DATABASE_URL: Database URL for Alembic migrations (REQUIRED)
# Used by: alembic/env.py for running migrations
# IMPORTANT: This MUST be set before running `uv run alembic upgrade head`
# Format: postgresql+asyncpg://user:password@host:port/database
# Development: Should match the postgres env vars above (REASONING_POSTGRES_USER, REASONING_POSTGRES_PASSWORD, REASONING_POSTGRES_DB)
REASONING_DATABASE_URL=postgresql+asyncpg://reasoning_user:reasoning_dev_password123@localhost:5434/reasoning
